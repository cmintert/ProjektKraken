============================= test session starts =============================
platform win32 -- Python 3.13.9, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\python.exe
cachedir: .pytest_cache
PySide6 6.10.1 -- Qt runtime 6.10.1 -- Qt compiled 6.10.1
rootdir: C:\Users\chris\Antigravity Projects\ProjektKraken
configfile: pytest.ini
plugins: cov-7.0.0, qt-4.5.0
collecting ... collected 607 items

tests/cli/test_new_cli.py::test_map_create PASSED                        [  0%]
tests/cli/test_new_cli.py::test_map_add_marker PASSED                    [  0%]
tests/cli/test_new_cli.py::test_wiki_scan PASSED                         [  0%]
tests/gui/widgets/test_wiki_text_edit_rendering.py::TestWikiTextEditRendering::test_rendering_case_insensitive PASSED [  0%]
tests/gui/widgets/test_wiki_text_edit_rendering.py::TestWikiTextEditRendering::test_rendering_id_based_link PASSED [  0%]
tests/gui/widgets/test_wiki_text_edit_rendering.py::TestWikiTextEditRendering::test_rendering_known_entity PASSED [  0%]
tests/gui/widgets/test_wiki_text_edit_rendering.py::TestWikiTextEditRendering::test_rendering_mixed PASSED [  1%]
tests/gui/widgets/test_wiki_text_edit_rendering.py::TestWikiTextEditRendering::test_rendering_unknown_entity PASSED [  1%]
tests/integration/test_commands.py::test_create_event_undo PASSED        [  1%]
tests/integration/test_commands.py::test_delete_event_undo PASSED        [  1%]
tests/integration/test_id_based_wiki_commands.py::test_id_based_link_processing PASSED [  1%]
tests/integration/test_id_based_wiki_commands.py::test_mixed_links_processing PASSED [  1%]
tests/integration/test_id_based_wiki_commands.py::test_broken_id_link_skipped PASSED [  2%]
tests/integration/test_id_based_wiki_commands.py::test_id_link_with_display_name PASSED [  2%]
tests/integration/test_id_based_wiki_commands.py::test_id_link_self_reference_skipped PASSED [  2%]
tests/integration/test_id_based_wiki_commands.py::test_id_link_undo PASSED [  2%]
tests/integration/test_id_based_wiki_commands.py::test_format_helpers PASSED [  2%]
tests/integration/test_link_resolver_integration.py::test_link_resolver_with_editor PASSED [  2%]
tests/integration/test_link_resolver_integration.py::test_broken_link_highlighting PASSED [  3%]
tests/integration/test_link_resolver_integration.py::test_autocomplete_with_id_based_links PASSED [  3%]
tests/integration/test_link_resolver_integration.py::test_link_navigation_by_id PASSED [  3%]
tests/integration/test_link_resolver_integration.py::test_resolver_cache_invalidation PASSED [  3%]
tests/integration/test_link_resolver_integration.py::test_find_broken_links_in_text PASSED [  3%]
tests/integration/test_link_resolver_integration.py::test_get_display_name_scenarios PASSED [  3%]
tests/integration/test_link_resolver_integration.py::test_resolver_handles_events_and_entities PASSED [  4%]
tests/integration/test_longform_integration.py::test_add_items_to_longform PASSED [  4%]
tests/integration/test_longform_integration.py::test_build_sequence_ordering PASSED [  4%]
tests/integration/test_longform_integration.py::test_parent_child_nesting PASSED [  4%]
tests/integration/test_longform_integration.py::test_place_between_siblings PASSED [  4%]
tests/integration/test_longform_integration.py::test_reindex_positions PASSED [  4%]
tests/integration/test_longform_integration.py::test_promote_item PASSED [  5%]
tests/integration/test_longform_integration.py::test_demote_item PASSED  [  5%]
tests/integration/test_longform_integration.py::test_demote_item_no_previous_sibling PASSED [  5%]
tests/integration/test_longform_integration.py::test_remove_from_longform PASSED [  5%]
tests/integration/test_longform_integration.py::test_export_to_markdown PASSED [  5%]
tests/integration/test_longform_integration.py::test_mixed_events_and_entities PASSED [  5%]
tests/integration/test_longform_integration.py::test_move_command_execute_undo PASSED [  6%]
tests/integration/test_longform_integration.py::test_promote_command_execute_undo PASSED [  6%]
tests/integration/test_longform_integration.py::test_demote_command_execute_undo PASSED [  6%]
tests/integration/test_longform_integration.py::test_remove_command_execute_undo PASSED [  6%]
tests/integration/test_longform_integration.py::test_title_override PASSED [  6%]
tests/integration/test_longform_integration.py::test_deeply_nested_structure PASSED [  6%]
tests/integration/test_wikilinking_flow.py::test_update_event_triggers_commands PASSED [  7%]
tests/integration/test_wikilinking_navigation.py::test_navigate_to_entity_success PASSED [  7%]
tests/integration/test_wikilinking_navigation.py::test_navigate_to_entity_case_insensitive PASSED [  7%]
tests/integration/test_wikilinking_navigation.py::test_navigate_to_entity_not_found PASSED [  7%]
tests/test_image_support.py::test_webp_is_supported_by_qt PASSED         [  7%]
tests/test_image_support.py::test_webp_in_constants PASSED               [  7%]
tests/test_map_navigation.py::test_marker_item_inheritance PASSED        [  8%]
tests/test_map_navigation.py::test_marker_emits_clicked PASSED           [  8%]
tests/test_map_navigation.py::test_marker_drag_does_not_emit_clicked PASSED [  8%]
tests/test_map_navigation.py::test_map_widget_signal_propagation PASSED  [  8%]
tests/test_map_navigation.py::test_mainwindow_integration PASSED         [  8%]
tests/test_unsaved_changes.py::test_event_editor_dirty_tracking PASSED   [  8%]
tests/test_unsaved_changes.py::test_entity_editor_dirty_tracking PASSED  [  9%]
tests/test_unsaved_changes.py::test_mainwindow_check_unsaved_changes PASSED [  9%]
tests/test_unsaved_changes.py::test_editor_init_not_dirty PASSED         [  9%]
tests/unit/test_attachment_repository.py::test_insert_and_get PASSED     [  9%]
tests/unit/test_attachment_repository.py::test_list_by_owner PASSED      [  9%]
tests/unit/test_attachment_repository.py::test_delete PASSED             [  9%]
tests/unit/test_attachment_repository.py::test_update_caption PASSED     [ 10%]
tests/unit/test_attachment_repository.py::test_update_order PASSED       [ 10%]
tests/unit/test_attachment_service.py::test_add_images PASSED            [ 10%]
tests/unit/test_attachment_service.py::test_remove_image PASSED          [ 10%]
tests/unit/test_attachment_service.py::test_restore_image PASSED         [ 10%]
tests/unit/test_calendar.py::TestCalendarConfigValidation::test_valid_config_passes_validation PASSED [ 10%]
tests/unit/test_calendar.py::TestCalendarConfigValidation::test_duplicate_month_names_rejected PASSED [ 11%]
tests/unit/test_calendar.py::TestCalendarConfigValidation::test_duplicate_abbreviations_rejected PASSED [ 11%]
tests/unit/test_calendar.py::TestCalendarConfigValidation::test_empty_month_list_rejected PASSED [ 11%]
tests/unit/test_calendar.py::TestCalendarConfigValidation::test_zero_day_month_rejected PASSED [ 11%]
tests/unit/test_calendar.py::TestCalendarConfigValidation::test_negative_day_month_rejected PASSED [ 11%]
tests/unit/test_calendar.py::TestCalendarConfigYearLength::test_simple_year_length PASSED [ 11%]
tests/unit/test_calendar.py::TestCalendarConfigYearLength::test_variable_month_year_length PASSED [ 12%]
tests/unit/test_calendar.py::TestCalendarConfigYearLength::test_year_variant_length PASSED [ 12%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_epoch_start_round_trip PASSED [ 12%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_mid_year_round_trip PASSED [ 12%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_end_of_year_round_trip PASSED [ 12%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_year_boundary_round_trip PASSED [ 12%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_high_year_round_trip PASSED [ 13%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_variable_month_round_trip PASSED [ 13%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_parametrized_round_trip[1-1-1] PASSED [ 13%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_parametrized_round_trip[1-6-15] PASSED [ 13%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_parametrized_round_trip[1-12-30] PASSED [ 13%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_parametrized_round_trip[2-1-1] PASSED [ 13%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_parametrized_round_trip[10-3-10] PASSED [ 14%]
tests/unit/test_calendar.py::TestCalendarConverterRoundTrip::test_parametrized_round_trip[100-12-30] PASSED [ 14%]
tests/unit/test_calendar.py::TestCalendarConverterToFloat::test_epoch_start_is_zero PASSED [ 14%]
tests/unit/test_calendar.py::TestCalendarConverterToFloat::test_second_day_is_one PASSED [ 14%]
tests/unit/test_calendar.py::TestCalendarConverterToFloat::test_second_month_correct PASSED [ 14%]
tests/unit/test_calendar.py::TestCalendarConverterToFloat::test_year_two_start PASSED [ 14%]
tests/unit/test_calendar.py::TestCalendarConverterToFloat::test_noon_time_fraction PASSED [ 14%]
tests/unit/test_calendar.py::TestCalendarConverterFromFloat::test_zero_is_epoch_start PASSED [ 15%]
tests/unit/test_calendar.py::TestCalendarConverterFromFloat::test_one_is_second_day PASSED [ 15%]
tests/unit/test_calendar.py::TestCalendarConverterFromFloat::test_thirty_is_month_two PASSED [ 15%]
tests/unit/test_calendar.py::TestCalendarConverterFromFloat::test_360_is_year_two PASSED [ 15%]
tests/unit/test_calendar.py::TestCalendarConverterFromFloat::test_noon_fraction PASSED [ 15%]
tests/unit/test_calendar.py::TestCalendarConverterNegativeFloats::test_negative_one_is_day_before_epoch PASSED [ 15%]
tests/unit/test_calendar.py::TestCalendarConverterNegativeFloats::test_negative_360_is_year_minus_one PASSED [ 16%]
tests/unit/test_calendar.py::TestCalendarConverterNegativeFloats::test_negative_round_trip PASSED [ 16%]
tests/unit/test_calendar.py::TestCalendarConverterYearVariants::test_year_variant_conversion PASSED [ 16%]
tests/unit/test_calendar.py::TestCalendarConverterYearVariants::test_year_variant_round_trip PASSED [ 16%]
tests/unit/test_calendar.py::TestCalendarConverterYearVariants::test_year_variant_affects_subsequent_years PASSED [ 16%]
tests/unit/test_calendar.py::TestCalendarConverterFormatDate::test_format_basic PASSED [ 16%]
tests/unit/test_calendar.py::TestCalendarConverterFormatDate::test_format_includes_day PASSED [ 17%]
tests/unit/test_calendar_commands.py::TestCreateCalendarConfigCommand::test_execute_creates_config PASSED [ 17%]
tests/unit/test_calendar_commands.py::TestCreateCalendarConfigCommand::test_execute_returns_command_result PASSED [ 17%]
tests/unit/test_calendar_commands.py::TestCreateCalendarConfigCommand::test_undo_deletes_config PASSED [ 17%]
tests/unit/test_calendar_commands.py::TestUpdateCalendarConfigCommand::test_execute_updates_config PASSED [ 17%]
tests/unit/test_calendar_commands.py::TestUpdateCalendarConfigCommand::test_undo_restores_original PASSED [ 17%]
tests/unit/test_calendar_commands.py::TestDeleteCalendarConfigCommand::test_execute_deletes_config PASSED [ 18%]
tests/unit/test_calendar_commands.py::TestDeleteCalendarConfigCommand::test_undo_restores_config PASSED [ 18%]
tests/unit/test_calendar_commands.py::TestSetActiveCalendarCommand::test_execute_sets_active PASSED [ 18%]
tests/unit/test_calendar_commands.py::TestSetActiveCalendarCommand::test_undo_restores_previous_active PASSED [ 18%]
tests/unit/test_calendar_db.py::TestCalendarConfigCRUD::test_insert_calendar_config PASSED [ 18%]
tests/unit/test_calendar_db.py::TestCalendarConfigCRUD::test_get_calendar_config_not_found PASSED [ 18%]
tests/unit/test_calendar_db.py::TestCalendarConfigCRUD::test_get_all_calendar_configs PASSED [ 19%]
tests/unit/test_calendar_db.py::TestCalendarConfigCRUD::test_update_calendar_config PASSED [ 19%]
tests/unit/test_calendar_db.py::TestCalendarConfigCRUD::test_delete_calendar_config PASSED [ 19%]
tests/unit/test_calendar_db.py::TestActiveCalendar::test_get_active_calendar_when_none PASSED [ 19%]
tests/unit/test_calendar_db.py::TestActiveCalendar::test_set_active_calendar PASSED [ 19%]
tests/unit/test_calendar_db.py::TestActiveCalendar::test_only_one_active_calendar PASSED [ 19%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogInit::test_creates_with_default_config PASSED [ 20%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogInit::test_creates_with_provided_config PASSED [ 20%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogInit::test_name_field_populated PASSED [ 20%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogInit::test_epoch_field_populated PASSED [ 20%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogMonthTable::test_month_table_row_count PASSED [ 20%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogMonthTable::test_add_month_button PASSED [ 20%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogMonthTable::test_remove_month_button PASSED [ 21%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogValidation::test_empty_months_shows_error PASSED [ 21%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogValidation::test_valid_config_enables_save PASSED [ 21%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogPreview::test_preview_updates_on_float_change PASSED [ 21%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogPreview::test_preview_shows_formatted_date PASSED [ 21%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogOutput::test_get_config_returns_updated_values PASSED [ 21%]
tests/unit/test_calendar_dialog.py::TestCalendarConfigDialogOutput::test_config_saved_signal_emitted PASSED [ 22%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetBasics::test_widget_initializes PASSED [ 22%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetBasics::test_set_get_value_roundtrip PASSED [ 22%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetBasics::test_set_value_updates_display PASSED [ 22%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetBasics::test_value_changed_signal_emitted PASSED [ 22%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetCalendarAwareness::test_month_dropdown_populated_from_calendar PASSED [ 22%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetCalendarAwareness::test_day_dropdown_adjusts_to_month PASSED [ 23%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetCalendarAwareness::test_fantasy_calendar_months PASSED [ 23%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetEdgeCases::test_negative_year PASSED [ 23%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetEdgeCases::test_large_year PASSED [ 23%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetEdgeCases::test_month_boundary_transition PASSED [ 23%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetEdgeCases::test_no_converter_fallback PASSED [ 23%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetEdgeCases::test_time_fraction_preserved PASSED [ 24%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetEdgeCases::test_year_zero PASSED [ 24%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetCalendarPopup::test_calendar_button_exists PASSED [ 24%]
tests/unit/test_compact_date_widget.py::TestCompactDateWidgetCalendarPopup::test_calendar_popup_opens PASSED [ 24%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetBasics::test_widget_initializes PASSED [ 24%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetBasics::test_set_get_value_roundtrip PASSED [ 24%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetBasics::test_value_changed_signal_emitted PASSED [ 25%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetDecomposition::test_exact_year_decomposition PASSED [ 25%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetDecomposition::test_year_and_month_decomposition PASSED [ 25%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetDecomposition::test_complex_decomposition PASSED [ 25%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetDecomposition::test_only_days_decomposition PASSED [ 25%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetPreview::test_preview_hides_zero_units PASSED [ 25%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetPreview::test_preview_written_format PASSED [ 26%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetPreview::test_plural_handling PASSED [ 26%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetEdgeCases::test_zero_duration PASSED [ 26%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetEdgeCases::test_fractional_days PASSED [ 26%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetEdgeCases::test_very_large_duration PASSED [ 26%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetEdgeCases::test_no_converter_fallback PASSED [ 26%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetEdgeCases::test_start_date_affects_calculation PASSED [ 27%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetCalendarAwareness::test_standard_calendar_year_length PASSED [ 27%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetCalendarAwareness::test_simple_calendar_year_length PASSED [ 27%]
tests/unit/test_compact_duration_widget.py::TestCompactDurationWidgetCalendarAwareness::test_varying_month_lengths PASSED [ 27%]
tests/unit/test_creation_ux.py::test_create_entity_success_selects_item PASSED [ 27%]
tests/unit/test_creation_ux.py::test_create_event_success_selects_item PASSED [ 27%]
tests/unit/test_creation_ux.py::test_create_cancel_does_nothing PASSED   [ 28%]
tests/unit/test_creation_ux.py::test_select_item_switches_filter_if_needed PASSED [ 28%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_events_empty_list PASSED [ 28%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_events_single PASSED [ 28%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_events_multiple PASSED [ 28%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_events_with_attributes PASSED [ 28%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_events_upsert PASSED [ 28%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_entities_empty_list PASSED [ 29%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_entities_multiple PASSED [ 29%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_entities_with_attributes PASSED [ 29%]
tests/unit/test_db_bulk_operations.py::test_bulk_insert_entities_upsert PASSED [ 29%]
tests/unit/test_db_bulk_operations.py::test_transaction_rollback_on_error PASSED [ 29%]
tests/unit/test_db_bulk_operations.py::test_connection_auto_connects_on_read PASSED [ 29%]
tests/unit/test_db_bulk_operations.py::test_get_event_nonexistent PASSED [ 30%]
tests/unit/test_db_bulk_operations.py::test_get_entity_nonexistent PASSED [ 30%]
tests/unit/test_db_bulk_operations.py::test_get_relation_nonexistent PASSED [ 30%]
tests/unit/test_db_bulk_operations.py::test_delete_nonexistent_event PASSED [ 30%]
tests/unit/test_db_bulk_operations.py::test_delete_nonexistent_entity PASSED [ 30%]
tests/unit/test_db_bulk_operations.py::test_delete_nonexistent_relation PASSED [ 30%]
tests/unit/test_db_bulk_operations.py::test_get_name_event PASSED        [ 31%]
tests/unit/test_db_bulk_operations.py::test_get_name_entity PASSED       [ 31%]
tests/unit/test_db_bulk_operations.py::test_get_name_nonexistent PASSED  [ 31%]
tests/unit/test_db_bulk_operations.py::test_foreign_keys_enabled PASSED  [ 31%]
tests/unit/test_db_bulk_operations.py::test_indexes_created PASSED       [ 31%]
tests/unit/test_db_bulk_operations.py::test_event_ordering_by_lore_date PASSED [ 31%]
tests/unit/test_db_bulk_operations.py::test_incoming_relations PASSED    [ 32%]
tests/unit/test_db_bulk_operations.py::test_relation_attributes_none_default PASSED [ 32%]
tests/unit/test_db_bulk_operations.py::test_update_relation_attributes_none PASSED [ 32%]
tests/unit/test_db_service.py::test_event_crud PASSED                    [ 32%]
tests/unit/test_db_service.py::test_entity_crud PASSED                   [ 32%]
tests/unit/test_db_service.py::test_get_all_events PASSED                [ 32%]
tests/unit/test_db_service.py::test_relation_crud PASSED                 [ 33%]
tests/unit/test_dock_layout.py::test_timeline_is_dockable PASSED         [ 33%]
tests/unit/test_dock_layout.py::test_view_menu_includes_timeline PASSED  [ 33%]
tests/unit/test_dock_layout.py::test_dock_features_enabled PASSED        [ 33%]
tests/unit/test_entities.py::test_entity_serialization PASSED            [ 33%]
tests/unit/test_entities.py::test_insert_and_get_entity PASSED           [ 33%]
tests/unit/test_entities.py::test_get_all_entities PASSED                [ 34%]
tests/unit/test_entities.py::test_delete_entity PASSED                   [ 34%]
tests/unit/test_entities.py::test_update_entity_via_insert PASSED        [ 34%]
tests/unit/test_entities.py::test_entity_tags_property PASSED            [ 34%]
tests/unit/test_entities.py::test_entity_tags_serialization PASSED       [ 34%]
tests/unit/test_entities.py::test_entity_tags_with_other_attributes PASSED [ 34%]
tests/unit/test_entity_commands.py::test_create_entity_success PASSED    [ 35%]
tests/unit/test_entity_commands.py::test_create_entity_undo PASSED       [ 35%]
tests/unit/test_entity_commands.py::test_update_entity_success PASSED    [ 35%]
tests/unit/test_entity_commands.py::test_update_entity_undo PASSED       [ 35%]
tests/unit/test_entity_commands.py::test_delete_entity_success PASSED    [ 35%]
tests/unit/test_entity_commands.py::test_delete_entity_undo PASSED       [ 35%]
tests/unit/test_entity_editor.py::test_editor_init PASSED                [ 36%]
tests/unit/test_entity_editor.py::test_load_entity PASSED                [ 36%]
tests/unit/test_entity_editor.py::test_save_clicked PASSED               [ 36%]
tests/unit/test_entity_editor.py::test_add_relation_flow PASSED          [ 36%]
tests/unit/test_entity_editor.py::test_remove_relation PASSED            [ 36%]
tests/unit/test_entity_editor.py::test_edit_relation_flow PASSED         [ 36%]
tests/unit/test_event_commands.py::test_create_event_success PASSED      [ 37%]
tests/unit/test_event_commands.py::test_create_event_failure PASSED      [ 37%]
tests/unit/test_event_commands.py::test_create_event_undo PASSED         [ 37%]
tests/unit/test_event_commands.py::test_create_event_undo_not_executed PASSED [ 37%]
tests/unit/test_event_commands.py::test_update_event_success PASSED      [ 37%]
tests/unit/test_event_commands.py::test_update_event_validation_error PASSED [ 37%]
tests/unit/test_event_commands.py::test_update_event_not_found PASSED    [ 38%]
tests/unit/test_event_commands.py::test_update_event_db_error PASSED     [ 38%]
tests/unit/test_event_commands.py::test_update_event_undo PASSED         [ 38%]
tests/unit/test_event_commands.py::test_update_event_undo_not_executed PASSED [ 38%]
tests/unit/test_event_commands.py::test_delete_event_success PASSED      [ 38%]
tests/unit/test_event_commands.py::test_delete_event_not_found PASSED    [ 38%]
tests/unit/test_event_commands.py::test_delete_event_db_error PASSED     [ 39%]
tests/unit/test_event_commands.py::test_delete_event_undo PASSED         [ 39%]
tests/unit/test_event_commands.py::test_delete_event_undo_not_executed PASSED [ 39%]
tests/unit/test_event_editor.py::test_editor_init PASSED                 [ 39%]
tests/unit/test_event_editor.py::test_load_event PASSED                  [ 39%]
tests/unit/test_event_editor.py::test_save_clicked PASSED                [ 39%]
tests/unit/test_event_editor.py::test_add_relation_flow PASSED           [ 40%]
tests/unit/test_event_editor.py::test_remove_relation PASSED             [ 40%]
tests/unit/test_event_editor.py::test_context_menu_actions PASSED        [ 40%]
tests/unit/test_event_list.py::test_init PASSED                          [ 40%]
tests/unit/test_event_list.py::test_set_events_empty PASSED              [ 40%]
tests/unit/test_event_list.py::test_set_events_with_data PASSED          [ 40%]
tests/unit/test_event_list.py::test_selection_changed_signal PASSED      [ 41%]
tests/unit/test_event_list.py::test_selection_cleared PASSED             [ 41%]
tests/unit/test_event_list.py::test_delete_clicked_signal PASSED         [ 41%]
tests/unit/test_event_list.py::test_delete_clicked_no_selection PASSED   [ 41%]
tests/unit/test_event_list.py::test_refresh_clicked_signal PASSED        [ 41%]
tests/unit/test_event_list.py::test_set_events_clears_previous PASSED    [ 41%]
tests/unit/test_event_list.py::test_widget_styling PASSED                [ 42%]
tests/unit/test_event_list.py::test_empty_to_populated_transition PASSED [ 42%]
tests/unit/test_event_list.py::test_populated_to_empty_transition PASSED [ 42%]
tests/unit/test_events_duration.py::TestEventDuration::test_event_editor_has_duration_field PASSED [ 42%]
tests/unit/test_events_duration.py::TestEventDuration::test_event_editor_loads_saves_duration FAILED [ 42%]
tests/unit/test_events_duration.py::TestEventDuration::test_event_item_rect_no_duration PASSED [ 42%]
tests/unit/test_events_duration.py::TestEventDuration::test_event_item_rect_with_duration PASSED [ 42%]
tests/unit/test_full_text_search.py::test_search_matches_description PASSED [ 43%]
tests/unit/test_full_text_search.py::test_search_matches_tags PASSED     [ 43%]
tests/unit/test_full_text_search.py::test_search_matches_attributes PASSED [ 43%]
tests/unit/test_full_text_search.py::test_search_matches_type PASSED     [ 43%]
tests/unit/test_gallery_refresh.py::test_refresh_on_finish PASSED        [ 43%]
tests/unit/test_granular_duration.py::TestGranularDuration::test_compact_duration_widget_simple PASSED [ 43%]
tests/unit/test_granular_duration.py::TestGranularDuration::test_event_editor_has_duration_widget PASSED [ 44%]
tests/unit/test_granular_duration.py::TestGranularDuration::test_sync_duration_to_end_date PASSED [ 44%]
tests/unit/test_granular_duration.py::TestGranularDuration::test_sync_end_date_to_duration PASSED [ 44%]
tests/unit/test_headless_operation.py::test_database_operations_headless PASSED [ 44%]
tests/unit/test_headless_operation.py::test_cli_export_headless PASSED   [ 44%]
tests/unit/test_id_based_links.py::test_parse_id_based_link PASSED       [ 44%]
tests/unit/test_id_based_links.py::test_parse_legacy_name_link PASSED    [ 45%]
tests/unit/test_id_based_links.py::test_parse_legacy_name_with_label PASSED [ 45%]
tests/unit/test_id_based_links.py::test_parse_mixed_links PASSED         [ 45%]
tests/unit/test_id_based_links.py::test_format_id_link PASSED            [ 45%]
tests/unit/test_id_based_links.py::test_format_name_link PASSED          [ 45%]
tests/unit/test_id_based_links.py::test_format_name_link_with_label PASSED [ 45%]
tests/unit/test_id_based_links.py::test_id_case_insensitive PASSED       [ 46%]
tests/unit/test_id_based_links.py::test_id_without_display_name PASSED   [ 46%]
tests/unit/test_id_based_links.py::test_invalid_id_format_treated_as_name PASSED [ 46%]
tests/unit/test_id_based_links.py::test_span_correctness_id_based PASSED [ 46%]
tests/unit/test_id_based_links.py::test_adjacent_id_links PASSED         [ 46%]
tests/unit/test_id_based_links.py::test_whitespace_in_id_link PASSED     [ 46%]
tests/unit/test_image_commands.py::test_update_image_caption_command PASSED [ 47%]
tests/unit/test_image_commands.py::test_remove_image_command PASSED      [ 47%]
tests/unit/test_link_resolver.py::test_resolve_entity PASSED             [ 47%]
tests/unit/test_link_resolver.py::test_resolve_event PASSED              [ 47%]
tests/unit/test_link_resolver.py::test_resolve_broken_link PASSED        [ 47%]
tests/unit/test_link_resolver.py::test_cache_usage PASSED                [ 47%]
tests/unit/test_link_resolver.py::test_invalidate_cache_specific PASSED  [ 48%]
tests/unit/test_link_resolver.py::test_invalidate_cache_all PASSED       [ 48%]
tests/unit/test_link_resolver.py::test_get_display_name_valid PASSED     [ 48%]
tests/unit/test_link_resolver.py::test_get_display_name_broken_with_fallback PASSED [ 48%]
tests/unit/test_link_resolver.py::test_get_display_name_broken_without_fallback PASSED [ 48%]
tests/unit/test_link_resolver.py::test_find_broken_links_none PASSED     [ 48%]
tests/unit/test_link_resolver.py::test_find_broken_links_some PASSED     [ 49%]
tests/unit/test_link_resolver.py::test_name_change_propagation PASSED    [ 49%]
tests/unit/test_longform_builder.py::test_safe_json_loads_valid PASSED   [ 49%]
tests/unit/test_longform_builder.py::test_safe_json_loads_empty PASSED   [ 49%]
tests/unit/test_longform_builder.py::test_safe_json_loads_invalid PASSED [ 49%]
tests/unit/test_longform_builder.py::test_safe_json_loads_null PASSED    [ 49%]
tests/unit/test_longform_builder.py::test_get_longform_meta_exists PASSED [ 50%]
tests/unit/test_longform_builder.py::test_get_longform_meta_missing PASSED [ 50%]
tests/unit/test_longform_builder.py::test_set_longform_meta_new PASSED   [ 50%]
tests/unit/test_longform_builder.py::test_set_longform_meta_update PASSED [ 50%]
tests/unit/test_longform_builder.py::test_read_all_longform_items_mixed PASSED [ 50%]
tests/unit/test_longform_builder.py::test_read_all_longform_items_no_metadata PASSED [ 50%]
tests/unit/test_longform_builder.py::test_build_longform_sequence_ordering PASSED [ 51%]
tests/unit/test_longform_builder.py::test_build_longform_sequence_nesting PASSED [ 51%]
tests/unit/test_longform_builder.py::test_build_longform_sequence_heading_levels PASSED [ 51%]
tests/unit/test_longform_builder.py::test_insert_or_update_longform_meta_new PASSED [ 51%]
tests/unit/test_longform_builder.py::test_insert_or_update_longform_meta_update_existing PASSED [ 51%]
tests/unit/test_longform_builder.py::test_insert_or_update_longform_meta_invalid_table PASSED [ 51%]
tests/unit/test_longform_builder.py::test_insert_or_update_longform_meta_row_not_found PASSED [ 52%]
tests/unit/test_longform_builder.py::test_place_between_siblings_middle PASSED [ 52%]
tests/unit/test_longform_builder.py::test_place_between_siblings_only_prev PASSED [ 52%]
tests/unit/test_longform_builder.py::test_place_between_siblings_no_siblings PASSED [ 52%]
tests/unit/test_longform_builder.py::test_reindex_document_positions PASSED [ 52%]
tests/unit/test_longform_builder.py::test_export_longform_to_markdown_empty PASSED [ 52%]
tests/unit/test_longform_builder.py::test_export_longform_to_markdown_with_content PASSED [ 53%]
tests/unit/test_longform_builder.py::test_export_longform_to_markdown_title_override PASSED [ 53%]
tests/unit/test_longform_editor.py::test_load_content_populates_text PASSED [ 53%]
tests/unit/test_longform_editor.py::test_load_content_injects_anchors PASSED [ 53%]
tests/unit/test_longform_editor.py::test_scroll_to_item_calls_scroll_to_anchor PASSED [ 53%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetBasic::test_widget_initializes_without_calendar PASSED [ 53%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetBasic::test_set_calendar_enables_structured_mode PASSED [ 54%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetBasic::test_month_combo_shows_month_names PASSED [ 54%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetValueRoundTrip::test_set_value_updates_structured_fields PASSED [ 54%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetValueRoundTrip::test_get_value_returns_correct_float PASSED [ 54%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetValueRoundTrip::test_round_trip_consistency PASSED [ 54%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetDayRange::test_day_combo_has_correct_count PASSED [ 54%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetDayRange::test_day_combo_updates_on_month_change PASSED [ 55%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetDayRange::test_day_selection_preserved_when_valid PASSED [ 55%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetDayRange::test_day_clamped_when_exceeds_month PASSED [ 55%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetRawMode::test_raw_mode_toggle_shows_spinbox PASSED [ 55%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetRawMode::test_raw_mode_preserves_value PASSED [ 55%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetRawMode::test_structured_mode_from_raw_preserves_value PASSED [ 55%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetSignals::test_value_changed_emitted_on_year_change PASSED [ 56%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetSignals::test_value_changed_emitted_on_month_change PASSED [ 56%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetSignals::test_value_changed_emitted_on_day_change PASSED [ 56%]
tests/unit/test_lore_date_widget.py::TestLoreDateWidgetPreview::test_preview_shows_formatted_date PASSED [ 56%]
tests/unit/test_lore_duration_decomposition.py::test_duration_decomposition_exact_year PASSED [ 56%]
tests/unit/test_lore_duration_decomposition.py::test_duration_decomposition_year_and_month PASSED [ 56%]
tests/unit/test_lore_duration_decomposition.py::test_duration_decomposition_complex PASSED [ 57%]
tests/unit/test_lore_duration_decomposition.py::test_decomposition_without_converter PASSED [ 57%]
tests/unit/test_main_window.py::test_init_window FAILED                  [ 57%]
tests/unit/test_main_window.py::test_load_event_details PASSED           [ 57%]
tests/unit/test_main_window.py::test_create_event_flow PASSED            [ 57%]
tests/unit/test_main_window_entities.py::test_entity_docks_exist PASSED  [ 57%]
tests/unit/test_main_window_entities.py::test_create_entity PASSED       [ 57%]
tests/unit/test_main_window_entities.py::test_delete_entity PASSED       [ 58%]
tests/unit/test_main_window_entities.py::test_update_entity PASSED       [ 58%]
tests/unit/test_main_window_entities.py::test_load_entity_details_signal PASSED [ 58%]
tests/unit/test_main_window_entities.py::test_entity_add_relation PASSED [ 58%]
tests/unit/test_main_window_entities.py::test_entity_remove_relation PASSED [ 58%]
tests/unit/test_main_window_entities.py::test_entity_update_relation PASSED [ 58%]
tests/unit/test_main_window_ext.py::test_delete_event_success PASSED     [ 59%]
tests/unit/test_main_window_ext.py::test_delete_event_sends_command PASSED [ 59%]
tests/unit/test_main_window_ext.py::test_update_event_success PASSED     [ 59%]
tests/unit/test_main_window_ext.py::test_update_event_sends_command PASSED [ 59%]
tests/unit/test_main_window_ext.py::test_add_relation_success PASSED     [ 59%]
tests/unit/test_main_window_ext.py::test_add_relation_bidirectional PASSED [ 59%]
tests/unit/test_main_window_ext.py::test_remove_relation_success PASSED  [ 60%]
tests/unit/test_main_window_ext.py::test_remove_relation_no_current_event PASSED [ 60%]
tests/unit/test_main_window_ext.py::test_update_relation_success PASSED  [ 60%]
tests/unit/test_main_window_ext.py::test_update_relation_no_current_event PASSED [ 60%]
tests/unit/test_main_window_ext.py::test_dock_options_set PASSED         [ 60%]
tests/unit/test_main_window_ext.py::test_central_widget_is_hidden PASSED [ 60%]
tests/unit/test_main_window_ext.py::test_all_docks_are_floatable PASSED  [ 61%]
tests/unit/test_main_window_ext.py::test_load_event_details_no_event PASSED [ 61%]
tests/unit/test_main_window_ext.py::test_wikilink_completion_refreshes_ui PASSED [ 61%]
tests/unit/test_main_window_status.py::test_status_bar_initialization PASSED [ 61%]
tests/unit/test_main_window_status.py::test_status_bar_updates PASSED    [ 61%]
tests/unit/test_main_window_status.py::test_status_bar_formatting_with_converter PASSED [ 61%]
tests/unit/test_map_color_command.py::test_update_marker_color_command PASSED [ 62%]
tests/unit/test_map_color_command.py::test_update_marker_color_command_undo PASSED [ 62%]
tests/unit/test_map_color_command.py::test_update_marker_color_command_undo_no_previous_color PASSED [ 62%]
tests/unit/test_map_color_command.py::test_update_marker_color_not_found PASSED [ 62%]
tests/unit/test_map_commands.py::test_create_map_command PASSED          [ 62%]
tests/unit/test_map_commands.py::test_create_map_command_undo PASSED     [ 62%]
tests/unit/test_map_commands.py::test_update_map_command PASSED          [ 63%]
tests/unit/test_map_commands.py::test_update_map_command_undo PASSED     [ 63%]
tests/unit/test_map_commands.py::test_delete_map_command PASSED          [ 63%]
tests/unit/test_map_commands.py::test_delete_map_command_undo PASSED     [ 63%]
tests/unit/test_map_commands.py::test_create_marker_command PASSED       [ 63%]
tests/unit/test_map_commands.py::test_create_marker_command_upsert PASSED [ 63%]
tests/unit/test_map_commands.py::test_create_marker_command_undo PASSED  [ 64%]
tests/unit/test_map_commands.py::test_update_marker_command PASSED       [ 64%]
tests/unit/test_map_commands.py::test_update_marker_command_undo PASSED  [ 64%]
tests/unit/test_map_commands.py::test_delete_marker_command PASSED       [ 64%]
tests/unit/test_map_commands.py::test_delete_marker_command_undo PASSED  [ 64%]
tests/unit/test_map_db.py::test_map_crud PASSED                          [ 64%]
tests/unit/test_map_db.py::test_get_all_maps PASSED                      [ 65%]
tests/unit/test_map_db.py::test_marker_crud PASSED                       [ 65%]
tests/unit/test_map_db.py::test_marker_upsert_behavior PASSED            [ 65%]
tests/unit/test_map_db.py::test_get_markers_for_map PASSED               [ 65%]
tests/unit/test_map_db.py::test_get_markers_for_object PASSED            [ 65%]
tests/unit/test_map_db.py::test_get_marker_by_composite PASSED           [ 65%]
tests/unit/test_map_db.py::test_cascade_delete_markers PASSED            [ 66%]
tests/unit/test_map_db.py::test_marker_normalized_coordinates PASSED     [ 66%]
tests/unit/test_map_image_storage.py::TestMapImageStorage::test_relative_path_resolution PASSED [ 66%]
tests/unit/test_map_image_storage.py::TestMapImageStorage::test_relative_path_detection PASSED [ 66%]
tests/unit/test_map_image_storage.py::TestMapImageStorage::test_unique_filename_generation PASSED [ 66%]
tests/unit/test_map_image_storage.py::TestMapImageStorage::test_image_copy_to_assets PASSED [ 66%]
tests/unit/test_map_image_storage.py::TestMapImageStorage::test_relative_path_storage PASSED [ 67%]
tests/unit/test_map_widget.py::test_map_widget_initialization PASSED     [ 67%]
tests/unit/test_map_widget.py::test_map_view_initialization PASSED       [ 67%]
tests/unit/test_map_widget.py::test_load_map_invalid_path PASSED         [ 67%]
tests/unit/test_map_widget.py::test_add_marker_without_map PASSED        [ 67%]
tests/unit/test_map_widget.py::test_add_marker_with_map PASSED           [ 67%]
tests/unit/test_map_widget.py::test_remove_marker PASSED                 [ 68%]
tests/unit/test_map_widget.py::test_clear_markers PASSED                 [ 68%]
tests/unit/test_map_widget.py::test_update_marker_position PASSED        [ 68%]
tests/unit/test_map_widget.py::test_marker_position_changed_signal PASSED [ 68%]
tests/unit/test_map_widget.py::test_marker_item_draggable PASSED         [ 68%]
tests/unit/test_map_widget.py::test_marker_item_colors PASSED            [ 68%]
tests/unit/test_map_widget.py::test_marker_item_tooltip PASSED           [ 69%]
tests/unit/test_map_widget.py::test_marker_drag_tracking PASSED          [ 69%]
tests/unit/test_map_widget.py::test_normalized_coordinates_conversion PASSED [ 69%]
tests/unit/test_map_widget.py::test_widget_delegates_to_view PASSED      [ 69%]
tests/unit/test_map_widget.py::test_marker_item_change_emits_signal PASSED [ 69%]
tests/unit/test_relation_commands.py::test_add_relation_command PASSED   [ 69%]
tests/unit/test_relation_commands.py::test_remove_relation_command PASSED [ 70%]
tests/unit/test_relation_commands.py::test_update_relation_command PASSED [ 70%]
tests/unit/test_relation_commands.py::test_add_relation_bidirectional PASSED [ 70%]
tests/unit/test_relation_dialog.py::test_dialog_init PASSED              [ 70%]
tests/unit/test_relation_dialog.py::test_autocompletion_resolution PASSED [ 70%]
tests/unit/test_relation_dialog.py::test_manual_entry_fallback PASSED    [ 70%]
tests/unit/test_relation_dialog.py::test_prefill_editing PASSED          [ 71%]
tests/unit/test_security_longform.py::test_validate_table_name_valid_events PASSED [ 71%]
tests/unit/test_security_longform.py::test_validate_table_name_valid_entities PASSED [ 71%]
tests/unit/test_security_longform.py::test_validate_table_name_invalid PASSED [ 71%]
tests/unit/test_security_longform.py::test_validate_table_name_sql_injection_attempt PASSED [ 71%]
tests/unit/test_security_longform.py::test_validate_table_name_case_sensitive PASSED [ 71%]
tests/unit/test_security_longform.py::test_insert_or_update_invalid_table PASSED [ 71%]
tests/unit/test_security_longform.py::test_promote_item_invalid_table PASSED [ 72%]
tests/unit/test_security_longform.py::test_demote_item_invalid_table PASSED [ 72%]
tests/unit/test_security_longform.py::test_remove_from_longform_invalid_table PASSED [ 72%]
tests/unit/test_security_longform.py::test_place_between_siblings_invalid_target_table PASSED [ 72%]
tests/unit/test_security_longform.py::test_place_between_siblings_invalid_prev_table PASSED [ 72%]
tests/unit/test_security_longform.py::test_place_between_siblings_invalid_next_table PASSED [ 72%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_initial_state PASSED [ 73%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_add_tag PASSED  [ 73%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_add_tag_via_enter PASSED [ 73%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_remove_tag PASSED [ 73%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_duplicate_tag_rejected PASSED [ 73%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_empty_tag_rejected PASSED [ 73%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_load_tags PASSED [ 74%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_load_tags_clears_previous PASSED [ 74%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_get_tags PASSED [ 74%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_tags_changed_signal_on_add PASSED [ 74%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_tags_changed_signal_on_remove PASSED [ 74%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_tag_normalization PASSED [ 74%]
tests/unit/test_tag_editor.py::TestTagEditorWidget::test_case_sensitive_tags PASSED [ 75%]
tests/unit/test_text_parser.py::test_extract_simple_link PASSED          [ 75%]
tests/unit/test_text_parser.py::test_extract_link_with_label PASSED      [ 75%]
tests/unit/test_text_parser.py::test_extract_multiple_links PASSED       [ 75%]
tests/unit/test_text_parser.py::test_extract_duplicate_links PASSED      [ 75%]
tests/unit/test_text_parser.py::test_extract_no_links PASSED             [ 75%]
tests/unit/test_text_parser.py::test_extract_empty_text PASSED           [ 76%]
tests/unit/test_text_parser.py::test_whitespace_handling PASSED          [ 76%]
tests/unit/test_text_parser.py::test_offset_correctness PASSED           [ 76%]
tests/unit/test_text_parser.py::test_pipe_with_whitespace PASSED         [ 76%]
tests/unit/test_text_parser.py::test_nested_brackets_rejected PASSED     [ 76%]
tests/unit/test_text_parser.py::test_link_at_start PASSED                [ 76%]
tests/unit/test_text_parser.py::test_link_at_end PASSED                  [ 77%]
tests/unit/test_text_parser.py::test_adjacent_links PASSED               [ 77%]
tests/unit/test_theme_manager.py::test_singleton PASSED                  [ 77%]
tests/unit/test_theme_manager.py::test_default_theme_fallback PASSED     [ 77%]
tests/unit/test_theme_manager.py::test_load_themes_success PASSED        [ 77%]
tests/unit/test_theme_manager.py::test_apply_theme_success PASSED        [ 77%]
tests/unit/test_theme_manager.py::test_apply_theme_error PASSED          [ 78%]
tests/unit/test_timeline.py::test_timeline_init PASSED                   [ 78%]
tests/unit/test_timeline.py::test_set_events PASSED                      [ 78%]
tests/unit/test_timeline.py::test_lane_layout_logic PASSED               [ 78%]
tests/unit/test_timeline.py::test_focus_event PASSED                     [ 78%]
tests/unit/test_timeline.py::test_gravity_packing PASSED                 [ 78%]
tests/unit/test_timeline_advanced.py::TestSmartLanePacking::test_non_overlapping_events_same_lane PASSED [ 79%]
tests/unit/test_timeline_advanced.py::TestSmartLanePacking::test_overlapping_events_different_lanes PASSED [ 79%]
tests/unit/test_timeline_advanced.py::TestSmartLanePacking::test_lane_reuse_after_gap PASSED [ 79%]
tests/unit/test_timeline_advanced.py::TestSmartLanePacking::test_point_events_minimal_lanes PASSED [ 79%]
tests/unit/test_timeline_advanced.py::TestSmartLanePacking::test_complex_overlapping_pattern PASSED [ 79%]
tests/unit/test_timeline_advanced.py::TestZoomToCursor::test_zoom_in_at_point PASSED [ 79%]
tests/unit/test_timeline_advanced.py::TestZoomToCursor::test_zoom_out_at_point PASSED [ 80%]
tests/unit/test_timeline_advanced.py::TestZoomToCursor::test_zoom_min_limit PASSED [ 80%]
tests/unit/test_timeline_advanced.py::TestZoomToCursor::test_zoom_max_limit PASSED [ 80%]
tests/unit/test_timeline_advanced.py::TestEventItemUpdate::test_event_item_update_method_exists PASSED [ 80%]
tests/unit/test_timeline_advanced.py::TestEventItemUpdate::test_event_item_update_changes_data PASSED [ 80%]
tests/unit/test_timeline_advanced.py::TestEventItemUpdate::test_items_reused_on_set_events PASSED [ 80%]
tests/unit/test_timeline_advanced.py::TestEventItemUpdate::test_items_removed_when_event_deleted PASSED [ 81%]
tests/unit/test_timeline_advanced.py::TestScrubberPlayhead::test_playhead_exists_in_scene PASSED [ 81%]
tests/unit/test_timeline_advanced.py::TestScrubberPlayhead::test_set_playhead_time PASSED [ 81%]
tests/unit/test_timeline_advanced.py::TestScrubberPlayhead::test_playhead_time_changed_signal PASSED [ 81%]
tests/unit/test_timeline_advanced.py::TestScrubberPlayhead::test_start_stop_playback PASSED [ 81%]
tests/unit/test_timeline_advanced.py::TestScrubberPlayhead::test_step_forward PASSED [ 81%]
tests/unit/test_timeline_advanced.py::TestScrubberPlayhead::test_step_backward PASSED [ 82%]
tests/unit/test_timeline_advanced.py::TestScrubberPlayhead::test_playback_advances_automatically PASSED [ 82%]
tests/unit/test_timeline_advanced.py::TestPlaybackControls::test_play_pause_button_exists PASSED [ 82%]
tests/unit/test_timeline_advanced.py::TestPlaybackControls::test_step_buttons_exist PASSED [ 82%]
tests/unit/test_timeline_advanced.py::TestPlaybackControls::test_toggle_playback PASSED [ 82%]
tests/unit/test_timeline_advanced.py::TestPlaybackControls::test_step_forward_button PASSED [ 82%]
tests/unit/test_timeline_advanced.py::TestPlaybackControls::test_step_backward_button PASSED [ 83%]
tests/unit/test_timeline_advanced.py::TestPlaybackControls::test_widget_exposes_playhead_signal PASSED [ 83%]
tests/unit/test_timeline_advanced.py::TestEventItemCaching::test_event_item_has_cache_mode_set PASSED [ 83%]
tests/unit/test_timeline_advanced.py::TestCurrentTimeLine::test_current_time_line_exists_in_scene PASSED [ 83%]
tests/unit/test_timeline_advanced.py::TestCurrentTimeLine::test_set_current_time PASSED [ 83%]
tests/unit/test_timeline_advanced.py::TestCurrentTimeLine::test_current_time_changed_signal PASSED [ 83%]
tests/unit/test_timeline_advanced.py::TestCurrentTimeLine::test_current_time_line_not_draggable PASSED [ 84%]
tests/unit/test_timeline_advanced.py::TestCurrentTimeLine::test_current_time_distinct_from_playhead PASSED [ 84%]
tests/unit/test_timeline_advanced.py::TestCurrentTimeLine::test_widget_exposes_current_time_signal PASSED [ 84%]
tests/unit/test_timeline_advanced.py::TestCurrentTimeLine::test_set_current_time_to_playhead_button PASSED [ 84%]
tests/unit/test_timeline_interaction.py::test_timeline_init PASSED       [ 84%]
tests/unit/test_timeline_interaction.py::test_set_events_creates_items PASSED [ 84%]
tests/unit/test_timeline_interaction.py::test_fit_view PASSED            [ 85%]
tests/unit/test_timeline_interaction.py::test_selection_signal PASSED    [ 85%]
tests/unit/test_timeline_interaction.py::test_focus_event PASSED         [ 85%]
tests/unit/test_timeline_interaction.py::test_wheel_zoom PASSED          [ 85%]
tests/unit/test_timeline_interaction.py::test_mouse_pan_init PASSED      [ 85%]
tests/unit/test_timeline_interaction.py::test_draw_ruler PASSED          [ 85%]
tests/unit/test_timeline_interaction.py::test_playhead_drag PASSED       [ 85%]
tests/unit/test_timeline_interaction.py::test_event_drag_date_change PASSED [ 86%]
tests/unit/test_timeline_interaction.py::test_event_drag_constrained_to_horizontal PASSED [ 86%]
tests/unit/test_timeline_lane_packer.py::TestTimelineLanePacker::test_non_overlapping_events_same_lane PASSED [ 86%]
tests/unit/test_timeline_lane_packer.py::TestTimelineLanePacker::test_overlapping_events_different_lanes PASSED [ 86%]
tests/unit/test_timeline_lane_packer.py::TestTimelineLanePacker::test_lane_reuse PASSED [ 86%]
tests/unit/test_timeline_lane_packer.py::TestTimelineLanePacker::test_point_events PASSED [ 86%]
tests/unit/test_timeline_lane_packer.py::TestTimelineLanePacker::test_scale_factor_update PASSED [ 87%]
tests/unit/test_timeline_lane_packer.py::TestTimelineLanePacker::test_empty_events PASSED [ 87%]
tests/unit/test_timeline_lane_packer.py::TestTimelineLanePacker::test_long_event_names PASSED [ 87%]
tests/unit/test_timeline_rendering.py::test_event_item_bounding_rect PASSED [ 87%]
tests/unit/test_timeline_rendering.py::test_event_item_paint PASSED      [ 87%]
tests/unit/test_timeline_rendering.py::test_event_item_paint_selected PASSED [ 87%]
tests/unit/test_timeline_rendering.py::test_event_item_color_by_type PASSED [ 88%]
tests/unit/test_timeline_rendering.py::test_event_item_position PASSED   [ 88%]
tests/unit/test_timeline_rendering.py::test_timeline_scene_init PASSED   [ 88%]
tests/unit/test_timeline_rendering.py::test_timeline_view_set_events_empty PASSED [ 88%]
tests/unit/test_timeline_rendering.py::test_timeline_view_set_events_with_data PASSED [ 88%]
tests/unit/test_timeline_rendering.py::test_timeline_view_drag_mode PASSED [ 88%]
tests/unit/test_timeline_rendering.py::test_timeline_view_fit_all PASSED [ 89%]
tests/unit/test_timeline_rendering.py::test_timeline_view_focus_event_found PASSED [ 89%]
tests/unit/test_timeline_rendering.py::test_timeline_view_focus_event_not_found PASSED [ 89%]
tests/unit/test_timeline_rendering.py::test_timeline_view_scale_factor PASSED [ 89%]
tests/unit/test_timeline_rendering.py::test_timeline_widget_btn_fit PASSED [ 89%]
tests/unit/test_timeline_rendering.py::test_timeline_widget_header_frame PASSED [ 89%]
tests/unit/test_timeline_rendering.py::test_timeline_view_scene_rect_updates PASSED [ 90%]
tests/unit/test_timeline_rendering.py::test_event_item_flags PASSED      [ 90%]
tests/unit/test_timeline_rendering.py::test_timeline_view_lane_height_constant PASSED [ 90%]
tests/unit/test_timeline_rendering.py::test_timeline_view_ruler_height_constant PASSED [ 90%]
tests/unit/test_timeline_ruler.py::TestTickLevel::test_tick_levels_ordered_by_granularity PASSED [ 90%]
tests/unit/test_timeline_ruler.py::TestTickLevel::test_get_finer_level PASSED [ 90%]
tests/unit/test_timeline_ruler.py::TestTickLevel::test_get_coarser_level PASSED [ 91%]
tests/unit/test_timeline_ruler.py::TestActiveLevelCalculation::test_zoomed_out_shows_decades PASSED [ 91%]
tests/unit/test_timeline_ruler.py::TestActiveLevelCalculation::test_zoomed_in_shows_days PASSED [ 91%]
tests/unit/test_timeline_ruler.py::TestActiveLevelCalculation::test_minor_level_is_finer_than_major PASSED [ 91%]
tests/unit/test_timeline_ruler.py::TestOpacityInterpolation::test_opacity_zero_when_crowded PASSED [ 91%]
tests/unit/test_timeline_ruler.py::TestOpacityInterpolation::test_opacity_full_when_spacious PASSED [ 91%]
tests/unit/test_timeline_ruler.py::TestOpacityInterpolation::test_opacity_interpolates_smoothly PASSED [ 92%]
tests/unit/test_timeline_ruler.py::TestTickCalculation::test_calculate_ticks_returns_list PASSED [ 92%]
tests/unit/test_timeline_ruler.py::TestTickCalculation::test_ticks_within_date_range PASSED [ 92%]
tests/unit/test_timeline_ruler.py::TestTickCalculation::test_ticks_have_required_properties PASSED [ 92%]
tests/unit/test_timeline_ruler.py::TestTickCalculation::test_major_ticks_have_full_opacity PASSED [ 92%]
tests/unit/test_timeline_ruler.py::TestCollisionAvoidance::test_non_overlapping_labels_kept PASSED [ 92%]
tests/unit/test_timeline_ruler.py::TestCollisionAvoidance::test_overlapping_minor_labels_culled PASSED [ 93%]
tests/unit/test_timeline_ruler.py::TestCalendarAwareDivisions::test_set_calendar_converter PASSED [ 93%]
tests/unit/test_timeline_ruler.py::TestCalendarAwareDivisions::test_with_calendar_uses_calendar_labels PASSED [ 93%]
tests/unit/test_timeline_ruler.py::TestCalendarAwareDivisions::test_day_ticks_have_abbreviations PASSED [ 93%]
tests/unit/test_timeline_ruler.py::TestNumericFallback::test_without_calendar_uses_numeric_labels PASSED [ 93%]
tests/unit/test_timeline_ruler.py::TestStickyParentContext::test_get_parent_context_returns_string PASSED [ 93%]
tests/unit/test_timeline_ruler.py::TestStickyParentContext::test_parent_context_without_calendar PASSED [ 94%]
tests/unit/test_timeline_ruler.py::TestEdgeCases::test_zero_date_range PASSED [ 94%]
tests/unit/test_timeline_ruler.py::TestEdgeCases::test_negative_dates PASSED [ 94%]
tests/unit/test_timeline_ruler.py::TestEdgeCases::test_very_large_dates PASSED [ 94%]
tests/unit/test_timeline_ruler.py::TestEdgeCases::test_narrow_viewport PASSED [ 94%]
tests/unit/test_unified_list.py::test_init PASSED                        [ 94%]
tests/unit/test_unified_list.py::test_set_data PASSED                    [ 95%]
tests/unit/test_unified_list.py::test_filtering PASSED                   [ 95%]
tests/unit/test_unified_list.py::test_selection_signal PASSED            [ 95%]
tests/unit/test_unified_list.py::test_delete_signal PASSED               [ 95%]
tests/unit/test_unified_list.py::test_create_signals PASSED              [ 95%]
tests/unit/test_unified_list.py::test_refresh_signal PASSED              [ 95%]
tests/unit/test_wiki_commands.py::test_process_no_links PASSED           [ 96%]
tests/unit/test_wiki_commands.py::test_process_creates_mention_relation PASSED [ 96%]
tests/unit/test_wiki_commands.py::test_process_case_insensitive_match PASSED [ 96%]
tests/unit/test_wiki_commands.py::test_process_with_aliases PASSED       [ 96%]
tests/unit/test_wiki_commands.py::test_process_skips_ambiguous PASSED    [ 96%]
tests/unit/test_wiki_commands.py::test_process_skips_missing PASSED      [ 96%]
tests/unit/test_wiki_commands.py::test_process_multiple_links PASSED     [ 97%]
tests/unit/test_wiki_commands.py::test_process_deduplication_by_offset PASSED [ 97%]
tests/unit/test_wiki_commands.py::test_process_same_entity_different_offsets PASSED [ 97%]
tests/unit/test_wiki_commands.py::test_process_skips_self_reference PASSED [ 97%]
tests/unit/test_wiki_commands.py::test_process_undo PASSED               [ 97%]
tests/unit/test_wiki_commands.py::test_snippet_generation PASSED         [ 97%]
tests/unit/test_wiki_commands.py::test_snippet_with_ellipsis PASSED      [ 98%]
tests/unit/test_wiki_commands.py::test_field_parameter PASSED            [ 98%]
tests/unit/test_wiki_commands.py::test_pipe_modifier_ignored_for_matching PASSED [ 98%]
tests/unit/test_wiki_commands.py::test_process_wiki_links_to_events PASSED [ 98%]
tests/unit/test_wiki_completion.py::test_completer_initialization PASSED [ 98%]
tests/unit/test_wiki_completion.py::test_completer_update PASSED         [ 98%]
tests/unit/test_wiki_completion.py::test_insert_completion PASSED        [ 99%]
tests/unit/test_wiki_completion.py::test_insert_completion_mid_sentence PASSED [ 99%]
tests/unit/test_wiki_text_edit.py::test_ctrl_click_emits_signal PASSED   [ 99%]
tests/unit/test_wiki_text_edit.py::test_normal_click_ignores_link PASSED [ 99%]
tests/unit/test_wiki_text_edit.py::test_font_sizes_applied_on_init PASSED [ 99%]
tests/unit/test_wiki_text_edit.py::test_font_sizes_applied_in_set_wiki_text PASSED [ 99%]
tests/unit/test_wiki_text_edit.py::test_theme_change_updates_stylesheet PASSED [100%]

================================== FAILURES ===================================
__________ TestEventDuration.test_event_editor_loads_saves_duration ___________

self = <test_events_duration.TestEventDuration object at 0x000001D4627BA0D0>
qtbot = <pytestqt.qtbot.QtBot object at 0x000001D40A86F800>

    def test_event_editor_loads_saves_duration(self, qtbot):
        widget = EventEditorWidget()
        qtbot.addWidget(widget)
    
        event = Event(name="Test Event", lore_date=100.0, lore_duration=5.5)
>       widget.load_event(event)

tests\unit\test_events_duration.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
src\gui\widgets\event_editor.py:359: in load_event
    self.gallery.set_owner("event", event.id)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <src.gui.widgets.gallery_widget.GalleryWidget(0x1d40f460020) at 0x000001D40A93DF00>
owner_type = 'event', owner_id = '85b8c6ec-5078-4ce3-82b3-f5bcbd706cd6'

    def set_owner(self, owner_type: str, owner_id: str):
        """Sets the current owner and refreshes the view."""
        logger.debug(
            f"GalleryWidget: set_owner called with type={owner_type}, id={owner_id}"
        )
        self.owner_type = owner_type
        self.owner_id = owner_id
        self.btn_add.setEnabled(True)
        self.clear()
    
        # Request data
        # We need to invoke method on worker via QMetaObject usually,
        # or expose a slot on main_window that calls worker.
        # But connecting signal directly is easier but we are in UI thread,
        # invoking slot on worker (in bg thread) is safe via queues.
        from PySide6.QtCore import Q_ARG, QMetaObject
    
        QMetaObject.invokeMethod(
>           self.main_window.worker,
            ^^^^^^^^^^^^^^^^^^^^^^^
            "load_attachments",
            Qt.QueuedConnection,
            Q_ARG(str, self.owner_type),
            Q_ARG(str, self.owner_id),
        )
E       AttributeError: 'NoneType' object has no attribute 'worker'

src\gui\widgets\gallery_widget.py:113: AttributeError
---------------------------- Captured stderr call -----------------------------
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 15, in test_event_editor_loads_saves_duration
    widget = EventEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 140, in _get_theme_css
    logger.debug(f"Building theme CSS. Current theme: {tm.current_theme_name}")
Message: 'Building theme CSS. Current theme: dark_mode'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Building theme CSS. Current theme: dark_mode
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 15, in test_event_editor_loads_saves_duration
    widget = EventEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 141, in _get_theme_css
    logger.debug(f"Theme data keys: {list(theme.keys())}")
Message: "Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']"
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 15, in test_event_editor_loads_saves_duration
    widget = EventEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 152, in _get_theme_css
    logger.debug(
Message: 'Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 15, in test_event_editor_loads_saves_duration
    widget = EventEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 173, in _get_theme_css
    logger.debug(f"Generated CSS: {css}")
Message: 'Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 181, in registerExtensions
    ext.extendMarkdown(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\extensions\extra.py", line 62, in extendMarkdown
    md.registerExtensions(extensions, self.config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 181, in registerExtensions
    ext.extendMarkdown(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\extensions\extra.py", line 62, in extendMarkdown
    md.registerExtensions(extensions, self.config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.footnotes.FootnoteExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.footnotes.FootnoteExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 181, in registerExtensions
    ext.extendMarkdown(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\extensions\extra.py", line 62, in extendMarkdown
    md.registerExtensions(extensions, self.config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.attr_list.AttrListExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.attr_list.AttrListExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 181, in registerExtensions
    ext.extendMarkdown(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\extensions\extra.py", line 62, in extendMarkdown
    md.registerExtensions(extensions, self.config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.def_list.DefListExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.def_list.DefListExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 181, in registerExtensions
    ext.extendMarkdown(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\extensions\extra.py", line 62, in extendMarkdown
    md.registerExtensions(extensions, self.config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.tables.TableExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.tables.TableExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 181, in registerExtensions
    ext.extendMarkdown(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\extensions\extra.py", line 62, in extendMarkdown
    md.registerExtensions(extensions, self.config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.abbr.AbbrExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.abbr.AbbrExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 181, in registerExtensions
    ext.extendMarkdown(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\extensions\extra.py", line 62, in extendMarkdown
    md.registerExtensions(extensions, self.config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.md_in_html.MarkdownInHtmlExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.md_in_html.MarkdownInHtmlExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.extra.ExtraExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.extra.ExtraExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 317, in set_wiki_text
    html_body = markdown.markdown(md_text, extensions=["extra", "nl2br"])
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 481, in markdown
    md = Markdown(**kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 126, in __init__
    self.registerExtensions(extensions=kwargs.get('extensions', []),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\markdown\core.py", line 182, in registerExtensions
    logger.debug(
Message: 'Successfully loaded extension "markdown.extensions.nl2br.Nl2BrExtension".'
Arguments: ()
2025-12-21 16:28:50 - MARKDOWN - DEBUG - Successfully loaded extension "markdown.extensions.nl2br.Nl2BrExtension".
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 321, in set_wiki_text
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 140, in _get_theme_css
    logger.debug(f"Building theme CSS. Current theme: {tm.current_theme_name}")
Message: 'Building theme CSS. Current theme: dark_mode'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Building theme CSS. Current theme: dark_mode
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 321, in set_wiki_text
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 141, in _get_theme_css
    logger.debug(f"Theme data keys: {list(theme.keys())}")
Message: "Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']"
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 321, in set_wiki_text
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 152, in _get_theme_css
    logger.debug(
Message: 'Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 321, in set_wiki_text
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 173, in _get_theme_css
    logger.debug(f"Generated CSS: {css}")
Message: 'Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 349, in load_event
    self.desc_edit.set_wiki_text(event.description)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 326, in set_wiki_text
    logger.debug(f"Setting HTML with embedded CSS (body length: {len(html_body)})")
Message: 'Setting HTML with embedded CSS (body length: 0)'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Setting HTML with embedded CSS (body length: 0)
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1720, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 166, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_events_duration.py", line 19, in test_event_editor_loads_saves_duration
    widget.load_event(event)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 359, in load_event
    self.gallery.set_owner("event", event.id)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\gallery_widget.py", line 97, in set_owner
    logger.debug(
Message: 'GalleryWidget: set_owner called with type=event, id=85b8c6ec-5078-4ce3-82b3-f5bcbd706cd6'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.gallery_widget - DEBUG - GalleryWidget: set_owner called with type=event, id=85b8c6ec-5078-4ce3-82b3-f5bcbd706cd6
------------------------------ Captured log call ------------------------------
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:140 Building theme CSS. Current theme: dark_mode
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:141 Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:152 Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:173 Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.fenced_code.FencedCodeExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.footnotes.FootnoteExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.attr_list.AttrListExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.def_list.DefListExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.tables.TableExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.abbr.AbbrExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.md_in_html.MarkdownInHtmlExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.extra.ExtraExtension".
DEBUG    MARKDOWN:core.py:182 Successfully loaded extension "markdown.extensions.nl2br.Nl2BrExtension".
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:140 Building theme CSS. Current theme: dark_mode
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:141 Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:152 Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:173 Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:326 Setting HTML with embedded CSS (body length: 0)
DEBUG    src.gui.widgets.gallery_widget:gallery_widget.py:97 GalleryWidget: set_owner called with type=event, id=85b8c6ec-5078-4ce3-82b3-f5bcbd706cd6
______________________________ test_init_window _______________________________

main_window = <src.app.main.MainWindow(0x1d4104d0010) at 0x000001D40AAAC6C0>

    def test_init_window(main_window):
>       assert main_window.windowTitle() == "Project Kraken - v0.2.0 (Editor Phase)"
E       AssertionError: assert 'Project Krak...0.4.0 (Alpha)' == 'Project Krak...Editor Phase)'
E         
E         - Project Kraken - v0.2.0 (Editor Phase)
E         ?                     ^    ^^^^^^^^  --
E         + Project Kraken - v0.4.0 (Alpha)
E         ?                     ^    ^^^

tests\unit\test_main_window.py:25: AssertionError
---------------------------- Captured stderr setup ----------------------------
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 127, in __init__
    self.data_handler = DataHandler(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\data_handler.py", line 39, in __init__
    logger.debug("DataHandler initialized")
Message: 'DataHandler initialized'
Arguments: ()
2025-12-21 16:28:50 - src.app.data_handler - DEBUG - DataHandler initialized
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 134, in __init__
    self.event_editor = EventEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 140, in _get_theme_css
    logger.debug(f"Building theme CSS. Current theme: {tm.current_theme_name}")
Message: 'Building theme CSS. Current theme: dark_mode'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Building theme CSS. Current theme: dark_mode
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 134, in __init__
    self.event_editor = EventEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 141, in _get_theme_css
    logger.debug(f"Theme data keys: {list(theme.keys())}")
Message: "Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']"
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 134, in __init__
    self.event_editor = EventEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 152, in _get_theme_css
    logger.debug(
Message: 'Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 134, in __init__
    self.event_editor = EventEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\event_editor.py", line 94, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 173, in _get_theme_css
    logger.debug(f"Generated CSS: {css}")
Message: 'Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 135, in __init__
    self.entity_editor = EntityEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\entity_editor.py", line 77, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 140, in _get_theme_css
    logger.debug(f"Building theme CSS. Current theme: {tm.current_theme_name}")
Message: 'Building theme CSS. Current theme: dark_mode'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Building theme CSS. Current theme: dark_mode
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 135, in __init__
    self.entity_editor = EntityEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\entity_editor.py", line 77, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 141, in _get_theme_css
    logger.debug(f"Theme data keys: {list(theme.keys())}")
Message: "Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']"
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 135, in __init__
    self.entity_editor = EntityEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\entity_editor.py", line 77, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 152, in _get_theme_css
    logger.debug(
Message: 'Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 135, in __init__
    self.entity_editor = EntityEditorWidget(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\entity_editor.py", line 77, in __init__
    self.desc_edit = WikiTextEdit()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 173, in _get_theme_css
    logger.debug(f"Generated CSS: {css}")
Message: 'Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 165, in __init__
    self.longform_editor = LongformEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 416, in __init__
    self._setup_ui()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 453, in _setup_ui
    self.content = LongformContentWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 340, in __init__
    super().__init__(parent)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 140, in _get_theme_css
    logger.debug(f"Building theme CSS. Current theme: {tm.current_theme_name}")
Message: 'Building theme CSS. Current theme: dark_mode'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Building theme CSS. Current theme: dark_mode
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 165, in __init__
    self.longform_editor = LongformEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 416, in __init__
    self._setup_ui()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 453, in _setup_ui
    self.content = LongformContentWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 340, in __init__
    super().__init__(parent)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 141, in _get_theme_css
    logger.debug(f"Theme data keys: {list(theme.keys())}")
Message: "Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']"
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 165, in __init__
    self.longform_editor = LongformEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 416, in __init__
    self._setup_ui()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 453, in _setup_ui
    self.content = LongformContentWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 340, in __init__
    super().__init__(parent)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 152, in _get_theme_css
    logger.debug(
Message: 'Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 165, in __init__
    self.longform_editor = LongformEditorWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 416, in __init__
    self._setup_ui()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 453, in _setup_ui
    self.content = LongformContentWidget()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\longform_editor.py", line 340, in __init__
    super().__init__(parent)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 48, in __init__
    self._apply_theme_stylesheet()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 183, in _apply_theme_stylesheet
    css = self._get_theme_css()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\gui\widgets\wiki_text_edit.py", line 173, in _get_theme_css
    logger.debug(f"Generated CSS: {css}")
Message: 'Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }'
Arguments: ()
2025-12-21 16:28:50 - src.gui.widgets.wiki_text_edit - DEBUG - Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 181, in __init__
    self.connection_manager = ConnectionManager(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\connection_manager.py", line 29, in __init__
    logger.debug("ConnectionManager initialized")
Message: 'ConnectionManager initialized'
Arguments: ()
2025-12-21 16:28:50 - src.app.connection_manager - DEBUG - ConnectionManager initialized
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 182, in __init__
    self.connection_manager.connect_all()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\connection_manager.py", line 38, in connect_all
    logger.debug("All signal/slot connections established")
Message: 'All signal/slot connections established'
Arguments: ()
2025-12-21 16:28:50 - src.app.connection_manager - DEBUG - All signal/slot connections established
--- Logging error ---
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 80, in emit
    self.doRollover()
    ~~~~~~~~~~~~~~~^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 185, in doRollover
    self.rotate(self.baseFilename, dfn)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\logging\handlers.py", line 121, in rotate
    os.rename(source, dest)
    ~~~~~~~~~^^^^^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log' -> 'C:\\Users\\chris\\Antigravity Projects\\ProjektKraken\\logs\\kraken.log.1'
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 131, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 165, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\runner.py", line 523, in setup
    col.setup()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\python.py", line 1723, in setup
    self._request._fillfixtures()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 707, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 539, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 627, in _get_active_fixturedef
    fixturedef.execute(request=subrequest)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1110, in execute
    result: FixtureValue = ihook.pytest_fixture_setup(
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 1202, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\.venv\Lib\site-packages\_pytest\fixtures.py", line 915, in call_fixture_func
    fixture_result = fixturefunc(**kwargs)
  File "c:\Users\chris\Antigravity Projects\ProjektKraken\tests\unit\test_main_window.py", line 19, in main_window
    window = MainWindow()
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\main.py", line 185, in __init__
    self.command_coordinator = CommandCoordinator(self)
  File "C:\Users\chris\Antigravity Projects\ProjektKraken\src\app\command_coordinator.py", line 40, in __init__
    logger.debug("CommandCoordinator initialized")
Message: 'CommandCoordinator initialized'
Arguments: ()
2025-12-21 16:28:50 - src.app.command_coordinator - DEBUG - CommandCoordinator initialized
----------------------------- Captured log setup ------------------------------
DEBUG    src.app.data_handler:data_handler.py:39 DataHandler initialized
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:140 Building theme CSS. Current theme: dark_mode
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:141 Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:152 Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:173 Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:140 Building theme CSS. Current theme: dark_mode
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:141 Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:152 Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:173 Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:140 Building theme CSS. Current theme: dark_mode
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:141 Theme data keys: ['app_bg', 'surface', 'border', 'primary', 'accent_secondary', 'text_main', 'text_dim', 'error', 'scrollbar_bg', 'scrollbar_handle', 'font_size_h1', 'font_size_h2', 'font_size_h3', 'font_size_body']
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:152 Font sizes from theme: h1=16pt, h2=14pt, h3=12pt, body=10pt
DEBUG    src.gui.widgets.wiki_text_edit:wiki_text_edit.py:173 Generated CSS: a { color: #4DA6FF; font-weight: bold; text-decoration: none; } h1 { font-size: 16pt; font-weight: 600; color: #E0E0E0; margin-top: 10px; margin-bottom: 5px; } h2 { font-size: 14pt; font-weight: 600; color: #E0E0E0; margin-top: 8px; margin-bottom: 4px; } h3 { font-size: 12pt; font-weight: 600; color: #E0E0E0; margin-top: 6px; margin-bottom: 3px; } p { margin-bottom: 2px; color: #E0E0E0; font-size: 10pt; } body { color: #E0E0E0; font-size: 10pt; }
DEBUG    src.app.connection_manager:connection_manager.py:29 ConnectionManager initialized
DEBUG    src.app.connection_manager:connection_manager.py:38 All signal/slot connections established
DEBUG    src.app.command_coordinator:command_coordinator.py:40 CommandCoordinator initialized
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.13.9-final-0 _______________

Name                         Stmts   Miss  Cover   Missing
----------------------------------------------------------
src\cli\__init__.py              0      0   100%
src\cli\entity.py              225    225     0%   20-384
src\cli\event.py               221    221     0%   20-366
src\cli\export_longform.py      43     43     0%   14-105
src\cli\longform.py            120    120     0%   12-206
src\cli\map.py                 151     72    52%   40, 50-57, 65-93, 98-129, 148, 153, 155, 158, 167-174, 226, 232, 237-238, 242
src\cli\relation.py            150    150     0%   17-269
src\cli\utils.py                12      8    33%   25-36
src\cli\wiki.py                 64     21    67%   38, 41-42, 47-51, 54-55, 64-71, 102, 106, 111-112, 116
----------------------------------------------------------
TOTAL                          986    860    13%
=========================== short test summary info ===========================
FAILED tests/unit/test_events_duration.py::TestEventDuration::test_event_editor_loads_saves_duration
FAILED tests/unit/test_main_window.py::test_init_window - AssertionError: ass...
======================= 2 failed, 605 passed in 14.25s ========================
